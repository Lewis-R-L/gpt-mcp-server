# MCP Server 环境配置示例

# 服务器端口配置
PORT=3030
HTTPS_PORT=3443
ADMIN_PORT=3031

# HTTPS 配置
USE_HTTPS=false
SSL_CERT_PATH=./certs/server.crt
SSL_KEY_PATH=./certs/server.key

# 日志配置
LOG_LEVEL=info
DISABLE_ACCESS_LOG=false
LOG_FORMAT=common
LOG_REQUEST_RESPONSE=true

# OAuth Server 配置
OAUTH_ENABLED=true
OAUTH_ACCESS_TOKEN_LIFETIME=3600
OAUTH_REFRESH_TOKEN_LIFETIME=86400
OAUTH_AUTHORIZATION_CODE_LIFETIME=600
OAUTH_ALLOWED_SCOPES=read,write,admin
OAUTH_DEFAULT_SCOPES=read
OAUTH_ISSUER=italki-mcp-oauth

# OAuth 数据库配置
OAUTH_DB_PATH=./db
OAUTH_CLEANUP_INTERVAL=3600000

# italki API 请求超时（毫秒）
# 解决 MCP client 侧 UND_ERR_HEADERS_TIMEOUT / SSE terminated / -32001 RequestTimeout 的最有效手段：
# 防止服务端 fetch 卡住导致 MCP 请求一直无响应
ITALKI_FETCH_TIMEOUT_MS=12000
# 头像等静态资源（转 base64）请求超时（毫秒）
ITALKI_ASSET_FETCH_TIMEOUT_MS=10000

# Widget/CDN 配置
# Widget Domain 用于 OpenAI widget 的子域名生成
# 例如: 'https://italki.com' 会生成 'italki-com.web-sandbox.oaiusercontent.com'
WIDGET_DOMAIN=https://italki.com

# Icons CDN Base URL - 用于设置图标资源的 CDN 地址
# 如果设置，图标将从该 CDN 加载，而不是使用相对路径
# 例如: 'https://gpt-mcp-server-2.vercel.app' 或 'https://your-ngrok-domain.ngrok-free.dev'
# 如果不设置，Vercel 环境会自动使用 VERCEL_URL
ICONS_CDN_BASE_URL=https://your-ngrok-domain.ngrok-free.dev

# 其他配置
NODE_ENV=development
